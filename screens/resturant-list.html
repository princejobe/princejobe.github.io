<link rel='import' href='../bower_components/polymer/polymer.html' />

<link rel='import' href='../bower_components/paper-toolbar/paper-toolbar.html' />
<link rel='import' href='../bower_components/paper-listbox/paper-listbox.html' />
<link rel='import' href='../bower_components/iron-icons/iron-icons.html' />
<link rel='import' href='../bower_components/paper-item/paper-item.html' />
<link rel='import' href='../bower_components/paper-fab/paper-fab.html' />
<link rel='import' href='../bower_components/paper-dialog/paper-dialog.html' />
<link rel='import' href='../bower_components/paper-button/paper-button.html' />
<link rel='import' href='../bower_components/paper-icon-button/paper-icon-button.html' />
<link rel='import' href='../bower_components/paper-input/paper-input.html' />
<link rel='import' href='../bower_components/paper-checkbox/paper-checkbox.html' />
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<!--<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">-->
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">

<dom-module id='resturant-list'>

	<template>
		<iron-ajax url="../data/test.json" last-response="{{mechants}}" auto></iron-ajax>
		<app-header condenses fixed effects="resize-title blend-background waterfall">
			<app-toolbar>
				<!--<paper-icon-button icon="menu" drawer-toggle></paper-icon-button>-->
				<div condensed-title style="display:flex;">
					<iron-image src="../images/test/cw01.png"></iron-image>
					<h4>&mdash; Shop Smart</h4>
				</div>
				<!--<paper-icon-button icon="search"></paper-icon-button>
          <paper-icon-button icon="more-vert"></paper-icon-button>-->
			</app-toolbar>
			<app-toolbar class="tall">
				<h1 main-title>

				</h1>
			</app-toolbar>
		</app-header>
		<div style=" padding-top: 450px; ">

			<template is='dom-repeat' items='{{mechants}}'>
				<div style=" padding-bottom: 16px; ">					
					<paper-card image="{{ item.image }}" alt="Emmental ">
						<h1 style=" padding-left: 16px;">{{ item.name }}</h1>
						<div class="card-content ">
							{{ item.longText }}
						</div>
						<div class="card-actions ">
							<paper-button>Share</paper-button>
							<paper-button>Explore!</paper-button>
						</div>
					</paper-card>
				</div>
			</template>

		</div>
	</template>

	<style>
		.taskBox {
			--paper-checkbox-label-spacing: 38px;
			--paper-checkbox-checked-color: green;
		}
		
		app-header {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 1;
			background-color: black;
			color: white;
			height: 450px;
			--app-header-background-front-layer: {
				background-image: url("../images/test/mainHeader.jpg");
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;
			}
			;
		}
		
		app-header paper-icon-button {
			--paper-icon-button-ink-color: white;
		}
		
		[main-title] {
			font-weight: 400;
			margin: 0 0 0 50px;
		}
		
		[condensed-title] {
			font-size: 18px;
			font-weight: 400;
			margin-left: 30px;
		}
		
		[condensed-title] i {
			font-style: normal;
			font-weight: 100;
		}
		
		app-toolbar.tall {
			height: 148px;
		}
		
		.spacer {
			@apply(--layout-flex);
		}
	</style>

	<script>
        Polymer({
            is: 'resturant-list',
			dom: 'shadow',
            lazyRegister: true,
            ready: function() {
            //    this.mechants = [];
				//this.latestMachantName = " ";
             //   this.updateMachant();
            },

            updateMachant: function() {
                this.splice('mechants', 0);
                for(var machantName in localStorage) {
                    var machant = {
                        machantName: machantName,
                        isComplete: localStorage.getItem(machantName) == 'yes'
                    };
                    this.push('mechants', machant);
                }
            }

            //experimentals
          //   showDialog: function() {
          //       this.$.addMachantDialog.open();
          //   },
          //   addMachant: function() {
          //       localStorage.setItem(this.latestMachantName, 'no');
          //       this.updateMachant();
		        // this.latestMachantName = " ";
          //       this.$.addMachantDialog.close();
          //   },
          //   toggleMachant: function(e) {
          //       var machantName = e.model.item.machantName;
          //       if(e.model.item.isComplete)
          //           localStorage.setItem(machantName, 'yes');
          //       else
          //           localStorage.setItem(machantName, 'no');
          //   },
          //   deleteMachant: function(e) {
          //       var machantName = e.model.item.machantName;
          //       localStorage.removeItem(machantName);
          //       this.updateMachant();
          //   }
        });
    </script>

</dom-module>